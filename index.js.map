{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt', \n        captionDelay: 250 \n    });\n\nexport function renderImages(images) {\n    const gallery = document.querySelector(\".gallery\");\n    gallery.innerHTML = \"\";\n\n    const galleryMarkup = images.map(image => `\n      <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n        <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\"/>\n  <div class=\"image-info\">\n      <div class=\"info-item\">\n        <p class=\"info-title\">Likes</p>\n        <p class=\"info-value\">${image.likes}</p>\n      </div>\n      <div class=\"info-item\">\n        <p class=\"info-title\">Views</p>\n        <p class=\"info-value\">${image.views}</p>\n      </div>\n      <div class=\"info-item\">\n        <p class=\"info-title\">Comments</p>\n        <p class=\"info-value\">${image.comments}</p>\n      </div>\n      <div class=\"info-item\">\n        <p class=\"info-title\">Downloads</p>\n        <p class=\"info-value\">${image.downloads}</p>\n      </div>\n    </div>\n      </a>\n    `).join(\"\");\n\n    gallery.innerHTML = galleryMarkup;\n\n    lightbox.refresh(); \n}\n\nexport function clearGallery() {\n    const gallery = document.querySelector('.gallery');\n    if (gallery) {\n        gallery.innerHTML = '';\n    }\n}\n\nexport function showNoResultsMessage() {\n    iziToast.error({\n        title: 'Oops!',\n        message: \"Sorry, there are no images matching your search query. Please try again!\",\n        position: 'topRight',\n    });\n}\n\nexport function showError(message) {\n    iziToast.error({\n        title: 'Error!',\n        message: message,\n        position: 'topRight',\n    });\n}\n\nexport function showLoader() {\n    const loader = document.querySelector(\".loader\");\n    if (loader) {\n        loader.classList.remove(\"hidden\");\n    }\n}\n\nexport function hideLoader() {\n    const loader = document.querySelector(\".loader\");\n    if (loader) {\n        loader.classList.add(\"hidden\");\n    }\n}\n\n\n\n","import axios from 'axios';\nimport { hideLoader, showLoader } from './render-functions';\n\nexport function fetchImages(query) {\n    showLoader();\n    return axios.get(\"https://pixabay.com/api/\", {\n        params: {\n            key: \"48827585-ba4cf8d41bbd413a9ae07e3ba\",\n            q: query,\n            image_type: \"photo\",\n            orientation: \"horizontal\",\n            safesearch: true,\n        }\n    })\n        .then(response => {\n            const data = response.data;\n            if (data.hits.length === 0) {\n                iziToast.error({\n                    title: 'Oops!',\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                });\n                return [];\n            }\n            return data.hits;\n        })\n        .catch(error => {\n            console.error(\"Error fetching images:\", error);\n            iziToast.error({\n                title: 'Error!',\n                message: \"There was an error while fetching images. Please try again later.\",\n            });\n            return [];\n        })\n        .finally(() => {\n            hideLoader();\n        });\n}\n\n\n\n","import { fetchImages } from './js/pixabay-api.js';\nimport { renderImages, clearGallery, showNoResultsMessage, showError } from './js/render-functions.js';\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport \"./css/loader.css\";\n\ndocument.querySelector(\".search-form\").addEventListener(\"submit\", function (event) {\n    event.preventDefault();\n\n    let searchInput = document.querySelector(\".search-input\").value.trim();\n\n    if (searchInput === \"\") {\n        iziToast.error({\n            title: 'Error',\n            message: 'Please enter a search query!',\n            position: 'topRight'\n        });\n        return;\n    }\n\n    clearGallery();\n\n    fetchImages(searchInput)\n        .then(hits => {\n            if (hits.length === 0) {\n                showNoResultsMessage();\n            } else {\n                renderImages(hits);\n            }\n        })\n        .catch(error => {\n            clearGallery();\n            showError(\"There was an error while fetching images. Please try again later.\");\n        });\n});\n"],"names":["lightbox","SimpleLightbox","renderImages","images","gallery","galleryMarkup","image","clearGallery","showNoResultsMessage","showError","message","showLoader","loader","hideLoader","fetchImages","query","axios","response","data","error","event","searchInput","iziToast","hits"],"mappings":"owBAGA,MAAMA,EAAW,IAAIC,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,GACtB,CAAK,EAEE,SAASC,EAAaC,EAAQ,CACjC,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,GAEpB,MAAMC,EAAgBF,EAAO,IAAIG,GAAS;AAAA,sCACRA,EAAM,aAAa;AAAA,0CACfA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,gCAIhDA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,gCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,gCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,gCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,KAI1C,EAAE,KAAK,EAAE,EAEVF,EAAQ,UAAYC,EAEpBL,EAAS,QAAO,CACpB,CAEO,SAASO,GAAe,CAC3B,MAAMH,EAAU,SAAS,cAAc,UAAU,EAC7CA,IACAA,EAAQ,UAAY,GAE5B,CAEO,SAASI,GAAuB,CACnC,SAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,SAAU,UAClB,CAAK,CACL,CAEO,SAASC,EAAUC,EAAS,CAC/B,SAAS,MAAM,CACX,MAAO,SACP,QAASA,EACT,SAAU,UAClB,CAAK,CACL,CAEO,SAASC,GAAa,CACzB,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACAA,EAAO,UAAU,OAAO,QAAQ,CAExC,CAEO,SAASC,GAAa,CACzB,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACAA,EAAO,UAAU,IAAI,QAAQ,CAErC,CCzEO,SAASE,EAAYC,EAAO,CAC/B,OAAAJ,IACOK,EAAM,IAAI,2BAA4B,CACzC,OAAQ,CACJ,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,CACT,CAAK,EACI,KAAKE,GAAY,CACd,MAAMC,EAAOD,EAAS,KACtB,OAAIC,EAAK,KAAK,SAAW,GACrB,SAAS,MAAM,CACX,MAAO,QACP,QAAS,0EAC7B,CAAiB,EACM,IAEJA,EAAK,IACxB,CAAS,EACA,MAAMC,IACH,QAAQ,MAAM,yBAA0BA,CAAK,EAC7C,SAAS,MAAM,CACX,MAAO,SACP,QAAS,mEACzB,CAAa,EACM,GACV,EACA,QAAQ,IAAM,CACXN,GACZ,CAAS,CACT,CC5BA,SAAS,cAAc,cAAc,EAAE,iBAAiB,SAAU,SAAUO,EAAO,CAC/EA,EAAM,eAAc,EAEpB,IAAIC,EAAc,SAAS,cAAc,eAAe,EAAE,MAAM,OAEhE,GAAIA,IAAgB,GAAI,CACpBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,+BACT,SAAU,UACtB,CAAS,EACD,MACH,CAEDf,IAEAO,EAAYO,CAAW,EAClB,KAAKE,GAAQ,CACNA,EAAK,SAAW,EAChBf,IAEAN,EAAaqB,CAAI,CAEjC,CAAS,EACA,MAAMJ,GAAS,CACZZ,IACAE,EAAU,mEAAmE,CACzF,CAAS,CACT,CAAC"}